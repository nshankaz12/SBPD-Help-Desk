"'Knowledge Base' As screen":
    OnHidden: |-
        =UpdateContext({SearchVisible:false, SearchText:"", ResetScreen:false})
    OnVisible: |-
        =ClearCollect(KBTagcol,Distinct('KB Tags',Name));
        ClearCollect(Articles,KBArticles);
        ClearCollect(SearchResults,Blank());
        Set(SearchVisible,false);
        Set(ResetScreen,false);
        Set(SearchText,"");

    KnowledgeBaseContainer As groupContainer.verticalAutoLayoutContainer:
        Height: =Parent.Height
        LayoutAlignItems: =LayoutAlignItems.Stretch
        LayoutDirection: =LayoutDirection.Vertical
        LayoutMode: =LayoutMode.Auto
        LayoutOverflowY: =LayoutOverflow.Scroll
        Width: =Parent.Width
        ZIndex: =1

        KnowledgeBaseHeaderContainer As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            FillPortions: =0
            Height: =70
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            Visible: =!ResetScreen
            ZIndex: =1

        KnowledgeBaseHeaderContainer_1 As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            Fill: =ColorScheme.primary
            FillPortions: =0
            Height: =70
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            Visible: =!ResetScreen
            ZIndex: =2

        KnowledgeBaseSearchContainer As groupContainer.manualLayoutContainer:
            Fill: =ColorScheme.secondaryPressedColor
            FillPortions: =
            Height: =If('Knowledge Base'.Size>=2 || SearchVisible, 150,300)
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            Visible: =!ResetScreen
            ZIndex: =3

            TextInput1 As text:
                Default: =""
                Height: =If('Knowledge Base'.Size=1,24,40)
                HintText: ="Type in Keywords, or titles"
                OnChange: |
                    =UpdateContext({SearchVisible:true});
                    ClearCollect(SearchResults,Filter(Articles,TextInput1.Text in Tags || TextInput1.Text in Name || TextInput1.Text in ArticleBlurb));
                    UpdateContext({SearchText:TextInput1.Text});
                    Reset(TextInput1);
                    UpdateContext({ResetScreen:true});
                PaddingRight: =Icon4.Width+5
                RadiusBottomRight: =20
                RadiusTopRight: =20
                Width: =Parent.Width*.80
                X: =(Parent.Width-Self.Width)/2
                Y: =Parent.Height/2
                ZIndex: =1

            Button6_1 As button:
                DisplayMode: =DisplayMode.View
                Fill: =ColorScheme.primary
                Height: =TextInput1.Height
                RadiusBottomLeft: =5
                RadiusBottomRight: =20
                RadiusTopLeft: =5
                RadiusTopRight: =20
                Text: =""
                Width: =50
                X: =TextInput1.Width+TextInput1.X-Self.Width
                Y: =TextInput1.Y
                ZIndex: =2

            Icon4 As icon.Send:
                Color: =ColorScheme.secondary
                Fill: =Color.Transparent
                Height: =TextInput1.Height
                Icon: =Icon.Send
                Width: =50
                X: =Button6_1.X
                Y: =TextInput1.Y
                ZIndex: =3

            Label2_4 As label:
                Align: =Align.Center
                DisplayMode: =DisplayMode.View
                Height: =If('Knowledge Base'.Size=1,20,43)
                Size: =If('Knowledge Base'.Size=1,14,24)
                Text: ="How can we help?"
                Width: =TextInput1.Width
                X: =TextInput1.X
                Y: =Parent.Height/8
                ZIndex: =4

            Button6_2 As button:
                Fill: =Color.Transparent
                Height: =TextInput1.Height
                OnSelect: |-
                    =UpdateContext({SearchVisible:true});
                    ClearCollect(SearchResults,Filter(Articles,TextInput1.Text in Tags || TextInput1.Text in Name || TextInput1.Text in ArticleBlurb));
                    UpdateContext({SearchText:TextInput1.Text});
                    Reset(TextInput1);
                    UpdateContext({ResetScreen:true});
                PressedFill: =ColorScheme.secondaryPressedColor
                RadiusBottomLeft: =5
                RadiusBottomRight: =20
                RadiusTopLeft: =5
                RadiusTopRight: =20
                Text: =""
                Width: =50
                X: =TextInput1.Width+TextInput1.X-Self.Width
                Y: =TextInput1.Y
                ZIndex: =5

            Button8_1 As button:
                Fill: =RGBA(0, 18, 107, 1)
                Height: =27
                OnSelect: |-
                    =UpdateContext({SearchVisible:false, SearchText:""});
                    Reset(TextInput1);
                Text: ="Reset"
                Visible: =false
                X: =21
                Y: =12
                ZIndex: =6

        KnowledgeBaseResultsContainer As groupContainer.manualLayoutContainer:
            AlignInContainer: =AlignInContainer.Center
            FillPortions: =0
            Height: =1000
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            Visible: |
                =SearchVisible && !ResetScreen
            Width: =Parent.Width
            ZIndex: =4

            Rectangle4 As rectangle:
                BorderColor: =RGBA(0, 0, 0, 1)
                BorderThickness: =2
                Fill: =RGBA(0, 0, 0, 0)
                Height: =Parent.Height*.85
                Width: =Parent.Width*.90
                X: =(Parent.Width-Self.Width)/2
                Y: =Parent.Height/12
                ZIndex: =1

            Gallery2_1 As gallery.galleryVertical:
                Height: =Rectangle4.Height
                Items: =SearchResults
                Layout: =Layout.Vertical
                TemplateSize: =Parent.Height/6
                Width: =Rectangle4.Width
                X: =Rectangle4.X
                Y: =Rectangle4.Y
                ZIndex: =4

                Icon3_2 As icon.DocumentwithContent:
                    DisplayMode: =DisplayMode.View
                    Icon: =Icon.DocumentWithContent
                    OnSelect: =Select(Parent)
                    Visible: =If('Knowledge Base'.Size>1, true, false)
                    Y: =
                    ZIndex: =1

                Label5_1 As label:
                    Height: =30
                    OnSelect: =Select(Parent)
                    Size: =If('Knowledge Base'.Size>1, 13, 8)
                    Text: =ThisItem.Tags
                    Width: =Parent.TemplateWidth-Self.X
                    X: =Label1_1.X
                    Y: =Label4_4.Y+Label4_4.Height
                    ZIndex: =2

                Label4_4 As label:
                    Height: =72
                    OnSelect: =Select(Parent)
                    Size: =If('Knowledge Base'.Size>1, 13, 8)
                    Text: =ThisItem.ArticleBlurb
                    Width: =Parent.TemplateWidth-Self.X
                    X: =Label1_1.X
                    Y: =40
                    ZIndex: =3

                Label1_1 As label:
                    Color: =RGBA(102, 182, 227, 1)
                    FontWeight: =FontWeight.Semibold
                    OnSelect: =Select(Parent)
                    Size: =If('Knowledge Base'.Size>1,21, 12)
                    Text: =ThisItem.Name
                    Underline: =true
                    Width: =Parent.TemplateWidth-Self.X
                    X: =If(Icon3_2.Visible,Icon3_2.X+Icon3_2.Width+5,0)
                    Y: =
                    ZIndex: =4

                Rectangle5 As rectangle:
                    Fill: =ColorScheme.primary
                    Height: =7
                    OnSelect: =Select(Parent)
                    Width: =Parent.TemplateWidth
                    Y: =159.66666666666666
                    ZIndex: =5

                Button1_1 As button:
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =Parent.TemplateHeight
                    HoverFill: =RGBA(0, 0, 0, 0)
                    OnSelect: =Launch(ThisItem.'Link to item');
                    PressedFill: =ColorFade(ColorScheme.secondaryPressedColor,79%)
                    Text: =""
                    Width: =Parent.TemplateWidth
                    ZIndex: =6

            Label3_1 As label:
                Align: =Align.Center
                FontWeight: =FontWeight.Semibold
                Height: =60
                Size: =If('Knowledge Base'.Size>1, 20, 13)
                Text: |-
                    =If(IsEmpty(Gallery2_1.AllItems),Concatenate("We couldn't find anything for '",SearchText,"'"),Concatenate("Found ",Text(CountRows(SearchResults)) ,
                    If(CountRows(SearchResults)>=2," Results"," Result")," for '",SearchText,"'"))
                Visible: =SearchVisible
                Width: =Rectangle4.Width
                X: =Rectangle4.X
                Y: =17
                ZIndex: =5

        ButtonGallery_2 As gallery.galleryVertical:
            AlignInContainer: =AlignInContainer.Center
            FillPortions: =0
            Height: =If('Knowledge Base'.Size>1,450, 400)
            Items: =KBTagcol
            Layout: =Layout.Vertical
            LayoutMinHeight: =100
            LayoutMinWidth: =320
            TemplateSize: =If('Knowledge Base'.Size>1,200, 100)
            Visible: =!ResetScreen
            Width: =Parent.Width
            WrapCount: =Switch('Knowledge Base'.Size, ScreenSize.Small, 2, ScreenSize.Medium, 2, ScreenSize.Large, 3, 3)
            ZIndex: =6

            HtmlText1_3 As htmlViewer:
                DisplayMode: =DisplayMode.View
                Height: =200
                HtmlText: |-
                    ="<div style='box-shadow: 23px 21px 33px 5px rgba(0,0,0,0.05);
                    -webkit-box-shadow: 23px 21px 33px 5px rgba(0,0,0,0.05);
                    -moz-box-shadow: 23px 21px 33px 5px rgba(0,0,0,0.05); height:"&ButtonGalleryBackgroundButton_2.Height-11&"px; width:"&ButtonGalleryBackgroundButton_2.Width-11&"px; border-style:none; border-radius:10px'></div>"
                OnSelect: =Select(Parent)
                Width: =335.25
                ZIndex: =1

            ButtonGalleryBackgroundButton_2 As button:
                BorderStyle: =BorderStyle.Dashed
                BorderThickness: =0
                Color: =ColorScheme.secondary
                Fill: =ColorScheme.secondary
                Height: =Parent.TemplateHeight*.90
                OnSelect: =Select(Parent)
                Text: =""
                Width: =Parent.TemplateWidth *.80
                X: =(Parent.TemplateWidth - Self.Width)/2
                Y: =(Parent.TemplateHeight - Self.Height)/2
                ZIndex: =2

            ButtonGalleryNavLabel_3 As label:
                Align: =Align.Center
                Color: =ColorScheme.primary
                FontWeight: =FontWeight.Semibold
                OnSelect: =Select(Parent)
                Size: =If('Knowledge Base'.Size=1, 11,15)
                Text: =ThisItem.Value
                X: =(Parent.TemplateWidth-Self.Width)/2
                Y: =(Parent.TemplateHeight-Self.Height)/2
                ZIndex: =3

            Overlapbtn_4 As button:
                Fill: =RGBA(255, 255, 255, 0)
                Height: =ButtonGalleryBackgroundButton_2.Height
                HoverFill: =ColorFade(RGBA(105,105,105,.35),-10%)
                OnSelect: |-
                    =ClearCollect(SearchResults, Filter(Articles, ThisItem.Value in Tags));
                    UpdateContext({SearchVisible:false, ResetScreen:true});
                    UpdateContext({SearchText:ThisItem.Value});
                    Reset(TextInput1);
                    UpdateContext({SearchVisible:true})
                PressedFill: =ColorFade(RGBA(105,105,105,.7),-50%)
                Text: =""
                Width: =ButtonGalleryBackgroundButton_2.Width
                X: =ButtonGalleryBackgroundButton_2.X
                Y: =ButtonGalleryBackgroundButton_2.Y
                ZIndex: =5

        KnowledgeBaseFooterContainer As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            FillPortions: =0
            Height: =75
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            Visible: ='Knowledge Base'.Size=1 && !ResetScreen
            ZIndex: =7

        KnowledgeBaseMainContentContainer As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.Center
            FillPortions: =7
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            LayoutOverflowY: =LayoutOverflow.Scroll
            Visible: =false
            Width: =Parent.Width
            ZIndex: =8

    compMobileMenu_21 As compMobileMenu:
        Height: =Parent.Height/8
        Visible: ='Knowledge Base'.Size=1
        Width: =Parent.Width
        Y: =Parent.Height-Self.Height
        ZIndex: =2

    Label6 As label:
        Align: =Align.Center
        Color: =RGBA(255, 255, 255, 1)
        Fill: =ColorScheme.primary
        Height: |-
            =48
            //If('Knowledge Base'.Size=1,35,70)
        Size: =If('Knowledge Base'.Size=1, titleText.mobileSize, titleText.desktopSize)
        Text: ="Knowledge Base"
        Width: =Parent.Width
        Y: =compWebHeader_14.Height
        ZIndex: =3

    Icon1_33 As icon.BackArrow:
        Color: =ColorScheme.secondary
        Height: =49
        Icon: =Icon.BackArrow
        OnSelect: =Navigate(Home, ScreenTransition.Fade)//Back(ScreenTransition.Fade)
        Visible: ='Knowledge Base'.Size>1
        Width: =49
        X: =15
        Y: =SingleTicketInfo_Title.Y
        ZIndex: =4

    compWebHeader_14 As compWebHeader:
        CompScreenSize: ='Knowledge Base'.Size
        Height: |-
            =82
            //70
        ZIndex: =5

    compWebMenu_17 As compWebMenu_15:
        Height: =If(showMenu, App.Height, KnowledgeBaseHeaderContainer.Height)
        Visible: ='Knowledge Base'.Size>1
        ZIndex: =6

    Icon1_34 As icon.BackArrow:
        Color: =ColorScheme.secondary
        Height: =40
        Icon: =Icon.BackArrow
        OnSelect: =Navigate(Home, ScreenTransition.Fade)//Back(ScreenTransition.Fade)
        Visible: ='Knowledge Base'.Size=1
        Width: =40
        X: =40
        Y: =Label6.Y/1.27
        ZIndex: =7

    Timer1 As timer:
        Duration: =999
        OnTimerEnd: |-
            =UpdateContext({ResetScreen:false});
        Start: =ResetScreen
        Visible: =false
        X: =70
        Y: =40
        ZIndex: =8

