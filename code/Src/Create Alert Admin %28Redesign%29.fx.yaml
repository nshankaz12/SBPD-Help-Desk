"'Create Alert Admin (Redesign)' As screen":
    Fill: =ColorScheme.screenBackground
    OnVisible: =Set(allEmails, Concat(Users_1, email,";"))

    CreateAlertMainContainer As groupContainer.verticalAutoLayoutContainer:
        Height: =Parent.Height
        LayoutDirection: =LayoutDirection.Vertical
        LayoutMode: =LayoutMode.Auto
        Width: =Parent.Width
        ZIndex: =1

        Create_Alert_Header_Container As groupContainer.horizontalAutoLayoutContainer:
            FillPortions: =0
            Height: =130
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            ZIndex: =1

            compWebHeader_9 As compWebHeader:
                CompScreenSize: ='Create Alert Admin (Redesign)'.Size
                LayoutMinHeight: =640
                LayoutMinWidth: =640
                ZIndex: =1

            Label15 As label:
                Align: =Align.Center
                AlignInContainer: =AlignInContainer.Center
                Color: =RGBA(255, 255, 255, 1)
                Fill: =ColorScheme.primary
                FillPortions: =1
                Height: =Parent.Height
                Size: =If('Create Alert Admin (Redesign)'.Size=1, titleText.mobileSize, titleText.desktopSize)
                Text: ="Create Alert"
                Width: =Parent.Width
                ZIndex: =2

        Form3 As form:
            DataSource: =Alerts_1
            DefaultMode: =FormMode.New
            Item: =recordVar
            LayoutMinHeight: =250
            LayoutMinWidth: =400
            NumberOfColumns: =1
            ZIndex: =3

            title_DataCard2 As typedDataCard.textualEditCard:
                BorderStyle: =BorderStyle.Solid
                DataField: ="Description"
                Default: =ThisItem.messageText
                DisplayMode: =Parent.DisplayMode
                DisplayName: =DataSourceInfo([@Alerts_1],DataSourceInfo.DisplayName,"Title")
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                MaxLength: =DataSourceInfo([@Alerts_1], DataSourceInfo.MaxLength, "Description")
                Required: =false
                Update: =DataCardValue27.Text
                Width: =1366
                X: =0
                Y: =1
                ZIndex: =1

                DataCardKey46 As label:
                    AutoHeight: =true
                    Height: =34
                    Text: ="Description"
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                DataCardValue27 As text:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    Default: =ThisItem.messageText
                    DelayOutput: =true
                    DisplayMode: =Parent.DisplayMode
                    MaxLength: =Parent.MaxLength
                    PaddingLeft: =5
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Tooltip: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =DataCardKey46.Y + DataCardKey46.Height + 5
                    ZIndex: =2

                ErrorMessage46 As label:
                    AutoHeight: =true
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =DataCardValue27.Y + DataCardValue27.Height
                    ZIndex: =3

                StarVisible46 As label:
                    Align: =Align.Center
                    Height: =DataCardKey46.Height
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =DataCardKey46.Y
                    ZIndex: =4

            messageText_DataCard4 As typedDataCard.textualEditCard:
                BorderStyle: =BorderStyle.Solid
                DataField: ="Title"
                Default: =ThisItem.titleText
                DisplayMode: =Parent.DisplayMode
                DisplayName: =DataSourceInfo([@Alerts_1],DataSourceInfo.DisplayName,"field_2")
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                MaxLength: =DataSourceInfo([@Alerts_1], DataSourceInfo.MaxLength, "Title")
                Required: =true
                Update: =DataCardValue23.Text
                Width: =1366
                X: =0
                Y: =0
                ZIndex: =4

                DataCardKey39 As label:
                    AutoHeight: =true
                    Height: =34
                    Text: ="Title"
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                DataCardValue23 As text:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    Default: =ThisItem.titleText
                    DelayOutput: =true
                    DisplayMode: =Parent.DisplayMode
                    MaxLength: =Parent.MaxLength
                    PaddingLeft: =5
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Tooltip: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =DataCardKey39.Y + DataCardKey39.Height + 5
                    ZIndex: =2

                ErrorMessage39 As label:
                    AutoHeight: =true
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =DataCardValue23.Y + DataCardValue23.Height
                    ZIndex: =3

                StarVisible39 As label:
                    Align: =Align.Center
                    Height: =DataCardKey39.Height
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =DataCardKey39.Y
                    ZIndex: =4

            dateExpired_DataCard4 As typedDataCard.dateTimeEditCard:
                BorderStyle: =BorderStyle.Solid
                DataField: ="field_7"
                Default: =ThisItem.dateExpired
                DisplayMode: =Parent.DisplayMode
                DisplayName: =DataSourceInfo([@Alerts_1],DataSourceInfo.DisplayName,"field_7")
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                Required: =false
                Update: =DateValue14.SelectedDate + Time(Value(HourValue14.Selected.Value), Value(MinuteValue14.Selected.Value), 0)
                Visible: =true
                Width: =1366
                X: =0
                Y: =2
                ZIndex: =4

                DataCardKey42 As label:
                    AutoHeight: =true
                    Height: =34
                    Text: ="Expiration Date"
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                DateValue14 As datepicker:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    DefaultDate: =ThisItem.dateExpired
                    DisplayMode: =Parent.DisplayMode
                    EndYear: =Year(Today())+100
                    IsEditable: =true
                    PaddingBottom: =0
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                    StartYear: =1899
                    Tooltip: =Parent.DisplayName
                    Width: =(Parent.Width - 60) / 2
                    X: =30
                    Y: =DataCardKey42.Y + DataCardKey42.Height + 5
                    ZIndex: =2

                HourValue14 As dropdown:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    Default: =Text(Hour(Parent.Default),"00")
                    DisplayMode: =Parent.DisplayMode
                    Height: =DateValue14.Height
                    Items: =["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"]
                    PaddingBottom: =5
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                    PaddingRight: =5
                    PaddingTop: =5
                    Tooltip: =Parent.DisplayName
                    Width: =DateValue14.Width / 2 - 10
                    X: =DateValue14.X + DateValue14.Width + 10
                    Y: =DateValue14.Y
                    ZIndex: =3

                Separator15 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Bold
                    Height: =HourValue14.Height
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: |-
                        =":"
                    Width: =10
                    Wrap: =false
                    X: =HourValue14.X + HourValue14.Width
                    Y: =HourValue14.Y
                    ZIndex: =4

                MinuteValue14 As dropdown:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    Default: =Text(Minute(Parent.Default),"00")
                    DisplayMode: =Parent.DisplayMode
                    Height: =HourValue14.Height
                    Items: =["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"]
                    PaddingBottom: =5
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                    PaddingRight: =5
                    PaddingTop: =5
                    Tooltip: =Parent.DisplayName
                    Width: =HourValue14.Width
                    X: =HourValue14.X + HourValue14.Width + Separator15.Width
                    Y: =HourValue14.Y
                    ZIndex: =5

                ErrorMessage42 As label:
                    AutoHeight: =true
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =HourValue14.Y + HourValue14.Height
                    ZIndex: =6

                StarVisible42 As label:
                    Align: =Align.Center
                    Height: =DataCardKey42.Height
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =DataCardKey42.Y
                    ZIndex: =7

    "'Back Scroll_11' As icon.BackArrow":
        Color: |-
            =ColorScheme.secondary
            //RGBA(232, 244, 217, 1)
        Height: =TagName_2.Height/1.05
        Icon: =Icon.BackArrow
        OnSelect: =Back(ScreenTransition.Fade)
        Width: =49
        X: =Self.Width/5 
        Y: =(AllTicketsHeaderContainer.Height-TagName_2.Height)
        ZIndex: =2

    compWebMenu_18 As compWebMenu:
        Visible: ='Create Alert Admin (Redesign)'.Size > 1
        ZIndex: =3

    Button3 As button:
        Height: =60
        OnSelect: |
            =Set(
                newAlert,
                Patch(
                    Alerts_1,
                    Defaults(Alerts_1),
                    {
                        titleText: DataCardValue23.Text,
                        messageText: DataCardValue27.Text,
                        dateExpired: DateValue14.SelectedDate,
                        creatorId: userData.id
                    }
                )
            );
            Set(
                galleryVisible,
                true
            );
            Notify(
                "Alert Successfully created!",
                NotificationType.Success
            );
            SMTP.SendEmailV3(
                {
                    From: "sbpdhelpdesk@outlook.com",
                    To: "<Do Not Reply> sbpdhelpdesk@outlook.com",
                    Bcc: allEmails,
                    Subject: "Service Outage",
                    Body: "<div>Please be advised, " & DataCardValue23.Text & " is down. IT is responding and will notify all users when full functionality is restored. Thank you for your patience.</div> <br> <div> Do NOT email or respond to this automated message. This is an automated message created by our notification system. </div>"
                }
            );
            Navigate('Alert Manager');
        Text: ="Create Alert"
        Visible: =If(Editing, false, true)
        Width: =204
        X: =474
        Y: =591
        ZIndex: =4

    Button6 As button:
        FontWeight: =FontWeight.Bold
        Height: =60
        OnSelect: |
            =Patch(Alerts_1, Gallery4.Selected, {titleText: DataCardValue23.Text, messageText: DataCardValue27.Text, dateExpired: DateValue14.SelectedDate});
            ResetForm(Form3);
            Set(Editing, false);
            Navigate('Alert Manager');
        Text: ="Update Alert"
        Visible: =If(Editing, true, false)
        Width: =204
        X: =921
        Y: =591
        ZIndex: =5

    Button8 As button:
        Height: =60
        OnSelect: |
            =ResetForm(Form3);
            Set(Editing, false);
        Text: ="Cancel"
        Visible: =!(Form3.Mode = FormMode.View)
        Width: =204
        X: =697
        Y: =591
        ZIndex: =6

