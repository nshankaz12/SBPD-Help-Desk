"'Create A Ticket' As screen":
    BackgroundImage: =
    Fill: =
    ImagePosition: =ImagePosition.Stretch
    OnVisible: |
        =UpdateContext({NDrop:false,MGallery:false,HambIconChange:false});
        Set(userID, LookUp(userInfo, email = User().Email, id));

    CreateATicketMainContainer As groupContainer.horizontalAutoLayoutContainer:
        Height: ='Create A Ticket'.Height
        LayoutMode: =LayoutMode.Auto
        Width: ='Create A Ticket'.Width
        ZIndex: =2

        CreateATicketMobileNavLinksContainer As groupContainer.horizontalAutoLayoutContainer:
            FillPortions: =0
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            Visible: |
                =MGallery && 'Create A Ticket'.Size=1
            Width: =100
            ZIndex: =1

            CreateATicketMobileNavButtonGallery As gallery.galleryVertical:
                AlignInContainer: =AlignInContainer.Center
                FillPortions: =0
                Height: =Parent.Height
                Items: =navCol
                Layout: =Layout.Vertical
                LayoutMinHeight: =287
                LayoutMinWidth: =320
                OnSelect: =Switch(ThisItem.NavScreen, "Create A Ticket", Navigate('Create A Ticket'), "MyTickets", Navigate(MyTickets), "Log of All Tickets - Admin Tech", Navigate('Log of All Tickets - Admin Tech'), "Metrics - Admin Tech", Navigate('Metrics - Admin Tech'), "Assign Role - Admin", Navigate('Assign Role - Admin'))
                ShowScrollbar: =false
                TemplateSize: =Parent.Width
                Width: =Parent.Width
                ZIndex: =1

                MobileNavGalleryNameLabel_4 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =74
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =ThisItem.NavName
                    Width: =Parent.TemplateWidth
                    Y: =(Parent.TemplateHeight-Self.Height)/2
                    ZIndex: =1

                MobileNavButton_6 As button:
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =Parent.TemplateHeight
                    HoverFill: =ColorFade(RGBA(105,105,105, .25), -20%)
                    OnSelect: =Select(Parent)
                    PressedColor: =RGBA(105,105,105,.35)
                    PressedFill: =RGBA(105,105,105,.35)
                    Text: =""
                    Width: =Parent.TemplateWidth
                    ZIndex: =2

        CreateATicketVerticalLayoutContainer As groupContainer.verticalAutoLayoutContainer:
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            ZIndex: =2

            CreateATicketHeaderContainer1 As groupContainer.horizontalAutoLayoutContainer:
                Fill: =RGBA(118, 173, 149, 1)
                FillPortions: =0
                Height: =50
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                Visible: ='Create A Ticket'.Size>1
                ZIndex: =1

                NotificationsDropdownContainer_3 As groupContainer.manualLayoutContainer:
                    FillPortions: =0
                    Height: =Parent.Height
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    Visible: =Home.Size>1
                    Width: =75
                    ZIndex: =1

                    "'profile pic + drop down_10' As icon.Person":
                        AutoDisableOnSelect: =false
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        DisplayMode: =DisplayMode.View
                        Height: =55
                        Icon: =Icon.Person
                        Width: =55
                        X: =20
                        ZIndex: =1

                    "'new notification in dropdown_10' As circle":
                        BorderColor: =RGBA(168, 0, 0, 1)
                        Fill: =RGBA(168, 0, 0, 1)
                        Height: =15
                        Width: =15
                        X: =20
                        ZIndex: =2

                    UserNotificationsDropdownSymbolIcon_4 As icon.ChevronDown:
                        Color: =RGBA(255, 255, 255, 1)
                        Height: =14
                        HoverBorderColor: =ColorFade(Color.DimGrey, 20%)
                        HoverFill: =Color.DimGrey
                        Icon: =Icon.ChevronDown
                        OnSelect: |
                            =UpdateContext({NDrop:!NDrop});
                        Width: =23
                        X: =52
                        Y: =41
                        ZIndex: =3

                CreateATicketNavContainer As groupContainer.horizontalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.Center
                    Height: =Parent.Height
                    LayoutMinHeight: =0
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    ZIndex: =2

                    CreateATicketNavLinkGallery As gallery.galleryHorizontal:
                        AlignInContainer: =AlignInContainer.Center
                        DelayItemLoading: =true
                        Height: =Parent.Height
                        Items: =navCol
                        LayoutMinHeight: =287
                        LayoutMinWidth: =320
                        LoadingSpinner: =LoadingSpinner.Data
                        OnSelect: =Switch(ThisItem.NavScreen, "Create A Ticket", Navigate('Create A Ticket'), "MyTickets", Navigate(MyTickets), "Log of All Tickets - Admin Tech", Navigate('Log of All Tickets - Admin Tech'), "Metrics - Admin Tech", Navigate('Metrics - Admin Tech'), "Assign Role - Admin", Navigate('Assign Role - Admin'))
                        ShowScrollbar: =false
                        TemplateSize: =Parent.Width/5
                        Width: =Parent.Width
                        ZIndex: =1

                        CreateATicketNavLinkGalleryLabel As label:
                            Align: =Align.Center
                            DisplayMode: =DisplayMode.View
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.TemplateHeight
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.NavName
                            Width: =Parent.TemplateWidth
                            ZIndex: =1

                        CreateATicketNavLinkGalleryButton As button:
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =Parent.TemplateHeight
                            HoverFill: =ColorFade(RGBA(105,105,105,.5), -20%)
                            OnSelect: =Select(Parent)
                            PressedFill: =ColorFade(RGBA(105,105,105,.7),-50%)
                            Text: =""
                            Width: =Parent.TemplateWidth
                            ZIndex: =2

            CreateATicketMobileHeaderContainer As groupContainer.horizontalAutoLayoutContainer:
                Fill: =RGBA(118, 173, 149, 1)
                FillPortions: =0
                Height: =100
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutJustifyContent: =LayoutJustifyContent.Center
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                Visible: ='Create A Ticket'.Size=1
                ZIndex: =2

                MoblieHamburgerMenu_4 As icon.Hamburger:
                    AlignInContainer: =AlignInContainer.Center
                    Color: =RGBA(0, 0, 0, 1)
                    Icon: =If(HambIconChange,Icon.ChevronLeft,Icon.Hamburger)
                    OnSelect: |-
                        =UpdateContext({HambIconChange:!HambIconChange,MGallery:!MGallery})
                    Width: =100
                    ZIndex: =1

                CreateATicketMoblieTitleLabelContainer As groupContainer.horizontalAutoLayoutContainer:
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    ZIndex: =2

                    CreateATicketMobileHeaderLabel As label:
                        Align: =Align.Center
                        Color: =RGBA(255, 255, 255, 1)
                        FontWeight: =FontWeight.Bold
                        Height: =Parent.Height
                        Size: =If(HambIconChange, 20, 30)
                        Text: ="Create A Ticket"
                        Width: =Parent.Width
                        ZIndex: =1

            CreateATicketHeaderContainer2 As groupContainer.horizontalAutoLayoutContainer:
                Fill: =RGBA(118, 173, 149, 1)
                FillPortions: =0
                Height: =100
                LayoutMinHeight: =100
                LayoutMinWidth: =100
                LayoutMode: =LayoutMode.Auto
                ZIndex: =3

                NotificationsDropdownContent_2 As groupContainer.manualLayoutContainer:
                    Height: =44
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    Visible: |
                        =true
                    Width: =72
                    X: =150
                    Y: =56
                    ZIndex: =1

                    Icon11 As icon.BackArrow:
                        Color: =RGBA(232, 244, 217, 1)
                        Icon: =Icon.BackArrow
                        OnSelect: =Back(Fade)
                        X: =12
                        Y: =18
                        ZIndex: =1

                    UserNotificationsRoundedBorder_2 As image:
                        Image: ='image (4)'
                        ImagePosition: =ImagePosition.Stretch
                        Visible: =NDrop
                        Width: =184
                        X: =64
                        ZIndex: =2

                    ProfileButtonContainer_2 As groupContainer.manualLayoutContainer:
                        Height: =32
                        Visible: =NDrop
                        Width: =184
                        X: =64
                        Y: =14
                        ZIndex: =3

                        UserNotificationsProfileLabel_2 As label:
                            Font: =Font.'Open Sans Condensed'
                            Height: =27
                            PaddingLeft: =0
                            Size: =15
                            Text: ="Profile"
                            Visible: =NDrop
                            Width: =59
                            X: =34
                            Y: =2
                            ZIndex: =1

                        UserProfileDropdownIcon_2 As icon.Person:
                            Color: =RGBA(0, 0, 0, 1)
                            FocusedBorderThickness: =1
                            Height: =32
                            Icon: =Icon.Person
                            Visible: =NDrop
                            Width: =34
                            ZIndex: =2

                        ProfileDropdownbtn_2 As button:
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =32
                            HoverFill: =ColorFade(RGBA(105,105,105,.25), -20%)
                            PressedColor: =RGBA(105,105,105,.25)
                            PressedFill: =RGBA(105,105,105,.25)
                            Text: =""
                            Visible: =NDrop
                            Width: =184
                            ZIndex: =3

                    NotificationsButtonContainer_2 As groupContainer.manualLayoutContainer:
                        Height: =33
                        Visible: =NDrop
                        Width: =184
                        X: =64
                        Y: =46
                        ZIndex: =4

                        UserNotificationRedCircle_2 As circle:
                            BorderColor: =RGBA(220, 153, 153, 1)
                            BorderThickness: =1
                            Fill: =RGBA(255, 235, 235, 1)
                            Height: =20
                            Visible: =NDrop
                            Width: =20
                            X: =115
                            Y: =3
                            ZIndex: =1

                        UserNotificationNumberLabel_2 As label:
                            Align: =Align.Center
                            BorderColor: =RGBA(0, 0, 0, 0)
                            Height: =27
                            OnSelect: =
                            PaddingLeft: =3
                            PaddingTop: =4
                            Size: =10
                            Text: ="2"
                            Visible: =NDrop
                            Width: =22
                            X: =114
                            ZIndex: =2

                        UserNotificationsDropdownIcon_2 As icon.Bell:
                            Color: =RGBA(0, 0, 0, 1)
                            Height: =33
                            Icon: =Icon.Bell
                            OnSelect: |
                                =
                            Visible: =NDrop
                            Width: =30
                            ZIndex: =3

                        UserNotificationsLabel_2 As label:
                            Font: =Font.'Open Sans Condensed'
                            Height: =31
                            OnSelect: =
                            PaddingLeft: =0
                            Size: =15
                            Text: ="Notifications"
                            Visible: =NDrop
                            Width: =95
                            X: =30
                            ZIndex: =4

                        NotificationsDropdownbtn_2 As button:
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =33
                            HoverFill: =ColorFade(RGBA(105,105,105,.25), -20%)
                            PressedColor: =RGBA(0,0,0,0)
                            PressedFill: =RGBA(105,105,105,.35)
                            Text: =""
                            Visible: =NDrop
                            Width: =184
                            ZIndex: =5

                CreateATicketDesktopHeaderLabel As label:
                    Align: =Align.Center
                    Color: =RGBA(255, 255, 255, 1)
                    FillPortions: =7
                    Height: =Parent.Height
                    Size: =If('Create A Ticket'.Size>=3, 40, 25)
                    Text: ="Create A Ticket"
                    Visible: ='Create A Ticket'.Size<>1
                    Width: =Parent.Width
                    ZIndex: =2

                Image1 As image:
                    Image: =User().Image
                    Visible: ='Create A Ticket'.Size>2
                    ZIndex: =3

            CreateATicketMainContentContainer As groupContainer.verticalAutoLayoutContainer:
                Height: =App.Height
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =100
                LayoutMinWidth: =Parent.Width
                LayoutMode: =LayoutMode.Auto
                LayoutOverflowY: =LayoutOverflow.Scroll
                LayoutWrap: =true
                Width: =Parent.Width
                ZIndex: =4

                Container19 As groupContainer.horizontalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =If('Create A Ticket'.Size<4, TicketTitleLabel.Height+TitleTextInput.Height+CatergoryLabel.Height+CatergoryDropdown.Height+35,80)
                    LayoutAlignItems: =LayoutAlignItems.Center
                    LayoutGap: =10
                    LayoutMinHeight: =100
                    LayoutMinWidth: =Parent.Width
                    LayoutMode: =LayoutMode.Auto
                    LayoutWrap: =true
                    PaddingLeft: =30
                    PaddingRight: =30
                    Visible: |
                        =false
                    Width: |
                        =Parent.Width
                    ZIndex: =2

                    TicketTitleLabel As label:
                        FillPortions: =1
                        LayoutMinHeight: =Parent.Height
                        Text: |-
                            ="Title:"
                        ZIndex: =1

                    TitleTextInput As text:
                        Align: =Align.Center
                        Default: =""
                        FillPortions: =1
                        Height: =55
                        ZIndex: =2

                    CatergoryLabel As label:
                        FillPortions: =1
                        Text: ="Category"
                        ZIndex: =3

                    CatergoryDropdown As dropdown:
                        FillPortions: =1
                        Height: =55
                        Items: =Filter(Category, parentId = Blank())
                        ZIndex: =4

                Container2 As groupContainer.manualLayoutContainer:
                    LayoutMinHeight: =80
                    LayoutMinWidth: =250
                    ZIndex: =3

                    Label3 As label:
                        Height: =36
                        Size: =15
                        Text: ="Title"
                        Width: =190
                        X: =50
                        ZIndex: =1

                    TextInput3 As text:
                        Default: =""
                        Height: =38
                        HintText: ="Please Enter A Title"
                        Width: =Parent.Width/2 - Label3.Width 
                        X: =Label3.X
                        Y: =Label3.Y+Label3.Height+2
                        ZIndex: =2

                    FreeContCategoryLabel As label:
                        Height: =34
                        PaddingBottom: =15
                        Size: =15
                        Text: ="Category"
                        Width: =212
                        X: =Parent.Width/2 +50
                        ZIndex: =3

                    Dropdown5 As dropdown:
                        Items: =Filter(Category,parentId = Blank())
                        Width: =Parent.Width/3
                        X: =FreeContCategoryLabel.X
                        Y: =FreeContCategoryLabel.Y+FreeContCategoryLabel.Height
                        ZIndex: =4

                Container19_1 As groupContainer.horizontalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =If('Create A Ticket'.Size<4, SpecificIssueLabel.Height+Dropdown9.Height+SubCategoryLabel.Height+SubCatergoryDropdown.Height+35,80)
                    LayoutAlignItems: =LayoutAlignItems.Center
                    LayoutGap: =10
                    LayoutMinHeight: =100
                    LayoutMinWidth: =Parent.Width
                    LayoutMode: =LayoutMode.Auto
                    LayoutWrap: =true
                    PaddingLeft: =30
                    PaddingRight: =30
                    Visible: =false
                    Width: |
                        =Parent.Width
                    ZIndex: =4

                    SubCategoryLabel As label:
                        FillPortions: =1
                        Text: ="SubCategory"
                        ZIndex: =1

                    SubCatergoryDropdown As dropdown:
                        FillPortions: =1
                        Height: =55
                        Items: =Filter(Category, parentId = CatergoryDropdown.Selected.id)
                        ZIndex: =2

                    SpecificIssueLabel As label:
                        FillPortions: =1
                        LayoutMinHeight: =Parent.Height
                        Text: |-
                            ="Specific Issue:"
                        Visible: =If(LookUp(Category, parentId = SubCatergoryDropdown.Selected.id, name) = Blank(), false, true)
                        ZIndex: =3

                    Dropdown9 As dropdown:
                        FillPortions: =1
                        Height: =55
                        Items: =Filter(Category, parentId = SubCatergoryDropdown.Selected.id)
                        Visible: =If(LookUp(Category, parentId = SubCatergoryDropdown.Selected.id, name) = Blank(), false, true)
                        ZIndex: =4

                Container3 As groupContainer.manualLayoutContainer:
                    FillPortions: =0
                    Height: =80
                    LayoutMinHeight: =80
                    LayoutMinWidth: =250
                    ZIndex: =5

                    Label10 As label:
                        Height: =34
                        PaddingBottom: =15
                        Size: =15
                        Text: ="Sub Category"
                        X: =50
                        ZIndex: =1

                    Dropdown7 As dropdown:
                        Items: =Filter(Category, parentId = Dropdown5.Selected.id)
                        Width: =Parent.Width/3
                        X: =Label10.X
                        Y: =Label10.Y+Label10.Height
                        ZIndex: =2

                    Label10_1 As label:
                        Height: =34
                        PaddingBottom: =15
                        Size: =15
                        Text: ="Specific Issue"
                        Width: =200
                        X: =Parent.Width/2 +50
                        ZIndex: =3

                    Dropdown7_1 As dropdown:
                        Items: =Filter(Category, parentId = Dropdown7.Selected.id)
                        Width: =Parent.Width/3
                        X: =Label10_1.X
                        Y: =Label10_1.Y+Label10_1.Height
                        ZIndex: =4

                Container19_2 As groupContainer.horizontalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: =If('Create A Ticket'.Size<4, CreateATicketDescriptionlabel.Height+TextInput4.Height+35,200)
                    LayoutAlignItems: =LayoutAlignItems.Center
                    LayoutGap: =10
                    LayoutMinHeight: =100
                    LayoutMinWidth: =Parent.Width
                    LayoutMode: =LayoutMode.Auto
                    LayoutWrap: =true
                    PaddingLeft: =30
                    PaddingRight: =30
                    Visible: =false
                    Width: |
                        =Parent.Width
                    ZIndex: =6

                    CreateATicketDescriptionlabel As label:
                        FillPortions: =1
                        Text: ="Description"
                        ZIndex: =1

                    TextInput4 As text:
                        AlignInContainer: =AlignInContainer.Center
                        Default: ="Text input"
                        FillPortions: =1
                        Height: =150
                        Mode: =TextMode.MultiLine
                        ZIndex: =2

                Container4 As groupContainer.manualLayoutContainer:
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    ZIndex: =7

                    Label14 As label:
                        Align: =Align.Center
                        Size: =15
                        Text: ="Description"
                        X: =(Parent.Width-Self.Width)/2
                        ZIndex: =1

                    TextInput5 As text:
                        Default: =""
                        Height: =Parent.Height-Label14.Height
                        HintText: ="Please Describe Your Issue"
                        Mode: =TextMode.MultiLine
                        Size: =15
                        Width: =Parent.Width - 63
                        X: =32
                        Y: =40
                        ZIndex: =2

                Container19_3 As groupContainer.horizontalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    Height: =If('Create A Ticket'.Size<4, AttachmentControl.Height+Button7_1.Height+35,80)
                    LayoutAlignItems: =LayoutAlignItems.Center
                    LayoutGap: =45
                    LayoutMinHeight: =100
                    LayoutMinWidth: =Parent.Width
                    LayoutMode: =LayoutMode.Auto
                    LayoutWrap: =true
                    PaddingLeft: =30
                    PaddingRight: =30
                    Width: |
                        =Parent.Width
                    ZIndex: =8

                    Button7_1 As button:
                        FillPortions: =1
                        Height: =57
                        OnSelect: |
                            =//INSERT_NEW_TICKET.Run(Dropdown1.Selected.id, Dropdown5.Selected.id, DataCardValue4_1.Text, Dropdown4.Selected.id, DataCardValue6_1.Text);
                            //INSERT_NEW_TICKET.Run(2, 10, "Hello - 2", 2, "App");
                            //INSERT_NEW_TICKET.Run(categoryId, creatorId, description, subCategoryId, title);
                            Set(
                                recID,
                                Patch(
                                Tickets_1,
                                Defaults(Tickets_1),
                                {
                                    title: TextInput3.Text,
                                    description: TextInput5.Text,
                                    creatorId: userData.id,
                                    mainCategory: Dropdown5.Selected.id,
                                    category: Dropdown7.Selected.id,
                                    subCategory: Dropdown7_1.Selected.id,
                                    status: "open"
                                }
                                ).id
                            );
                            
                            Reset(TextInput3);
                            Reset(Dropdown5);
                            Reset(TextInput5);
                            Reset(Dropdown7);
                            Reset(Dropdown7_1);
                            
                            Office365Outlook.SendEmailV2(
                                userData.email,
                                "Ticket has been Created Successfully",
                                "This ticket has been created. We will have our technicians take a look at the issue and deliver a solution"
                            );
                            Navigate(MyTickets);
                        Text: ="Submit"
                        Width: =120
                        X: =20
                        Y: =10
                        ZIndex: =1

                    AttachmentControl As attachments:
                        BorderColor: =Black
                        FillPortions: =1
                        Height: =165
                        IsInDataCard: =true
                        Items: =
                        MaxAttachments: =10
                        PaddingBottom: =5
                        PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                        PaddingRight: =5
                        PaddingTop: =5
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =
                        ZIndex: =2

