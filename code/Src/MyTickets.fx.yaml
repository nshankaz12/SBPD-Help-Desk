"MyTickets As screen.'tabletLayout_HeaderAndGallery_ver3.0'":
    ImagePosition: =ImagePosition.Center
    OnVisible: |-
        =// Set dropdown and gallery to default when view this screen
        //Set(searchTicketQuery, ""); Reset(filterStatus); Reset(searchBox); Reset(TemplateGalleryList1);
        
        //Use for testing because current user may not have any tickets and user 4 and 5 have tickets
        Set(CurrentTicketInfo,GetCurrentTickets.Run(userData.id));
        
        //get tickets for the current user
        //Set(CurrentTicketInfo,GetCurrentTickets.Run(LookUp(Users, email = User().Email, id)))

    Image13_5 As image:
        Height: =768
        Image: ='image (2)'
        Width: =Parent.Width
        ZIndex: =1

    Label12 As label:
        Align: =Align.Center
        Color: =RGBA(255, 255, 255, 1)
        Height: =209
        Size: =28
        Text: ="My Tickets"
        Width: =Parent.Width
        Y: =15
        ZIndex: =2

    "'profile pic + drop down_6' As icon.Person":
        BorderColor: =RGBA(0, 0, 0, 1)
        Color: =RGBA(0, 0, 0, 1)
        Height: =40
        Icon: =Icon.Person
        Width: =40
        X: =140
        Y: =18
        ZIndex: =4

    "'nav-Ticket_4' As button":
        AutoDisableOnSelect: =false
        Color: =RGBA(0, 0, 0, 1)
        Fill: =RGBA(0, 0, 0, 0)
        OnSelect: =Navigate('Create A Ticket', ScreenTransition.Fade);
        PressedBorderColor: =RGBA(0, 0, 0, 0)
        PressedColor: =
        PressedFill: =RGBA(0, 0, 0, 0)
        Text: ="Create Ticket"
        Width: =174
        X: =181
        Y: =18
        ZIndex: =5

    "'nav-name2_4' As button":
        AutoDisableOnSelect: =false
        Color: =RGBA(0, 0, 0, 1)
        Fill: =RGBA(0, 0, 0, 0)
        OnSelect: =Navigate(MyTickets, ScreenTransition.Fade);
        PressedBorderColor: =RGBA(0, 0, 0, 0)
        PressedColor: =
        PressedFill: =RGBA(0, 0, 0, 0)
        Text: ="My Tickets"
        Width: =174
        X: =355
        Y: =18
        ZIndex: =6

    "'nav-name3_4' As button":
        AutoDisableOnSelect: =false
        Color: =RGBA(0, 0, 0, 1)
        Fill: =RGBA(0, 0, 0, 0)
        OnSelect: =Navigate('Log of All Tickets - Admin Tech', ScreenTransition.Fade);
        PressedBorderColor: =RGBA(0, 0, 0, 0)
        PressedColor: =
        PressedFill: =RGBA(0, 0, 0, 0)
        Text: ="Ticket Log"
        Width: =174
        X: =529
        Y: =18
        ZIndex: =7

    "'nav-name4_4' As button":
        AutoDisableOnSelect: =false
        Color: =RGBA(0, 0, 0, 1)
        Fill: =RGBA(0, 0, 0, 0)
        OnSelect: =Navigate('Metrics - Admin Tech', ScreenTransition.Fade);
        PressedBorderColor: =RGBA(0, 0, 0, 0)
        PressedColor: =
        PressedFill: =RGBA(0, 0, 0, 0)
        Text: ="Ticket Metrics"
        Width: =174
        X: =703
        Y: =18
        ZIndex: =8

    "'nav-name5_4' As button":
        AutoDisableOnSelect: =false
        Color: =RGBA(0, 0, 0, 1)
        Fill: =RGBA(0, 0, 0, 0)
        OnSelect: =Navigate('Assign Role - Admin', ScreenTransition.Fade);
        PressedBorderColor: =RGBA(0, 0, 0, 0)
        PressedColor: =
        PressedFill: =RGBA(0, 0, 0, 0)
        Text: ="Assign Role"
        Width: =174
        X: =877
        Y: =18
        ZIndex: =9

    "'new notification in dropdown_6' As circle":
        BorderColor: =RGBA(168, 0, 0, 1)
        Fill: =RGBA(168, 0, 0, 1)
        Height: =15
        Width: =15
        X: =140
        Y: =18
        ZIndex: =10

    "'Back Scroll_5' As icon.BackArrow":
        Color: =RGBA(232, 244, 217, 1)
        Icon: =Icon.BackArrow
        OnSelect: =Back(Fade)
        X: =59
        Y: =87
        ZIndex: =11

    Button4 As button:
        AutoDisableOnSelect: =false
        Fill: =RGBA(118, 173, 149, 1)
        OnSelect: =Navigate('Create A Ticket', ScreenTransition.Fade);
        PressedBorderColor: =RGBA(0, 0, 0, 0)
        PressedColor: =
        PressedFill: =RGBA(0, 0, 0, 0)
        Text: ="New Ticket"
        X: =1150
        Y: =99
        ZIndex: =12

    TemplateGalleryList1 As gallery.galleryVertical:
        Height: =544
        Items: =Search(If(filterStatus.Selected.Result = "All", CurrentTicketInfo, Filter(CurrentTicketInfo, status = filterStatus.Selected.Result)), searchTicketQuery, "title", "description")
        Layout: =Layout.Vertical
        TemplateSize: =If(Self.Layout = Layout.Horizontal, Min(280, Self.Width - 60), Min(265, Self.Height - 60))
        Transition: =Transition.Push
        Visible: |-
            =!IsEmpty(CurrentTicketInfo)
            And 
            !IsEmpty(Search(If(filterStatus.Selected.Result = "All", CurrentTicketInfo, Filter(CurrentTicketInfo, status = filterStatus.Selected.Result)), searchTicketQuery, "title", "description"))
        Width: =1366
        WrapCount: =3
        Y: =224
        ZIndex: =13

        btnBkg As button:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =Parent.TemplateHeight
            HoverFill: =Self.Fill
            OnSelect: =Select(Parent)
            PressedFill: =Self.Fill
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Text: =""
            Width: =Parent.TemplateWidth
            ZIndex: =1

        Label20 As label:
            FontWeight: =FontWeight.Bold
            Height: =41
            OnSelect: =Select(Parent)
            Size: =15
            Text: =ThisItem.title
            Width: =Parent.TemplateWidth
            Y: =60
            ZIndex: =3

        Label20_1 As label:
            Height: =79
            OnSelect: =Select(Parent)
            Text: =ThisItem.description
            Width: =Parent.TemplateWidth
            Y: =94
            ZIndex: =4

        Rectangle2 As rectangle:
            Height: =47
            OnSelect: =Select(Parent)
            Width: =Parent.TemplateWidth
            ZIndex: =5

        Label22 As label:
            Align: =Align.Center
            Color: =RGBA(255, 255, 255, 1)
            Height: =47
            OnSelect: =Select(Parent)
            Text: =ThisItem.id
            Width: =Parent.TemplateWidth
            ZIndex: =6

        "'Label-datecreated' As label":
            OnSelect: =Select(Parent)
            Text: =DateValue(ThisItem.dateCreated)
            Width: =200
            Y: =173
            ZIndex: =7

        Image7_3 As image:
            Height: =40
            Image: =User().Image
            RadiusBottomLeft: =128
            RadiusBottomRight: =128
            RadiusTopLeft: =128
            RadiusTopRight: =128
            Width: =40
            X: =5
            Y: =213
            ZIndex: =8

        "'Label-assignee' As label":
            OnSelect: =Select(Parent)
            Text: =If(IsBlank(ThisItem.assignedTO), "Unassigned", LookUp(Users, id = ThisItem.assignedTO, fullName))
            Width: =200
            X: =45
            Y: =213
            ZIndex: =9

        statusColor As rectangle:
            DisplayMode: =DisplayMode.View
            Fill: |-
                =Switch(
                    ThisItem.status,
                    "open", RGBA(0, 127, 187, 1),
                    "close", RGBA(127, 178, 57, 1),
                    RGBA(221, 79, 14, 1)
                )
            Height: =40
            OnSelect: =Select(Parent)
            Width: =10
            X: =288
            Y: =173
            ZIndex: =10

        lblStatus As label:
            Align: =Align.Center
            Color: |-
                =Switch(
                    ThisItem.status,
                    "open", RGBA(0, 127, 187, 1),
                    "close", RGBA(127, 178, 57, 1),
                    RGBA(221, 79, 14, 1)
                )
            DisplayMode: =DisplayMode.View
            Fill: =RGBA(241, 244, 249, 1)
            FontWeight: =FontWeight.Semibold
            OnSelect: =Select(Parent)
            Size: =15
            Text: =ThisItem.status
            Width: =140
            X: =298
            Y: =173
            ZIndex: =11

        btnTemplate As button:
            BorderThickness: =0
            Fill: =Transparent
            Height: =Parent.TemplateHeight
            HoverFill: =Self.Fill
            OnSelect: |-
                =Navigate('Single Ticket Info', Fade, {title:ThisItem.title, dateCreated:DateValue(ThisItem.dateCreated), status:ThisItem.status, category:ThisItem.category, tags:ThisItem.tags, reporting_person:ThisItem.parentId, assigned_person:If(IsBlank(ThisItem.assignedTO), "Unassigned", LookUp(Users, id = ThisItem.assignedTO, fullName)), description:ThisItem.description})
            PressedFill: =Self.Fill
            Text: =""
            Width: =Parent.TemplateWidth
            ZIndex: =12

    EmptyState As groupContainer.verticalAutoLayoutContainer:
        Height: =544
        LayoutAlignItems: =LayoutAlignItems.Center
        LayoutDirection: =LayoutDirection.Vertical
        LayoutGap: =10
        LayoutJustifyContent: =LayoutJustifyContent.Center
        LayoutMode: =LayoutMode.Auto
        Visible: |-
            =!IsBlank(filterStatus.Selected.Result)
            And IsEmpty(Search(If(filterStatus.Selected.Result = "All", CurrentTicketInfo, Filter(CurrentTicketInfo, status = filterStatus.Selected.Result)), searchTicketQuery, "title", "description"))
        Width: =1366
        Y: =224
        ZIndex: =14

        Label16 As label:
            Align: =Align.Center
            AlignInContainer: =AlignInContainer.Stretch
            Size: =32
            Text: ="No Tickets Found"
            ZIndex: =1

        Button4_1 As button:
            Fill: =RGBA(118, 173, 149, 1)
            OnSelect: =Navigate('Create A Ticket', ScreenTransition.Fade);
            Text: ="New Ticket"
            Visible: =filterStatus.Selected.Result = "All" || filterStatus.Selected.Result = "open"
            X: =1150
            Y: =99
            ZIndex: =2

    filterStatus As dropdown:
        Default: ="open"
        Items: =colStatus
        Width: =226
        X: =1117
        Y: =184
        ZIndex: =15

    searchTicketBar As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =20

        searchBox As text:
            Default: =
            DelayOutput: =true
            HintText: ="Search by title or description"
            OnChange: =Set(searchTicketQuery, searchBox.Text); Reset(TemplateGalleryList1)
            PaddingRight: =40
            Width: =685
            X: =320
            Y: =184
            ZIndex: =16

        bgSearchIcon As rectangle:
            BorderThickness: =2
            Height: =40
            OnSelect: =Set(searchTicketQuery, searchBox.Text); Reset(TemplateGalleryList1)
            Width: =40
            X: =1006
            Y: =184
            ZIndex: =17

        searchIcon As icon.Search:
            Color: =RGBA(255, 255, 255, 1)
            Height: =39
            Icon: =Icon.Search
            OnSelect: =Set(searchTicketQuery, searchBox.Text); Reset(TemplateGalleryList1)
            Tooltip: ="Search"
            Width: =39
            X: =1007
            Y: =185
            ZIndex: =18

        cancelIcon As icon.Cancel:
            Color: =RGBA(116, 116, 116, 1)
            Height: =40
            Icon: =Icon.Cancel
            OnSelect: =Set(searchTicketQuery, ""); Reset(searchBox); Reset(TemplateGalleryList1)
            Tooltip: ="Cancel"
            Visible: =!IsBlank(searchBox.Text)
            Width: =40
            X: =965
            Y: =184
            ZIndex: =19

