"MyTickets As screen.'tabletLayout_HeaderAndGallery_ver3.0'":
    ImagePosition: =ImagePosition.Center
    OnHidden: |-
        =Reset(compFilterMenu_1);
        Reset(MyTicketsGallery);
        Reset(compSearch_1);
    OnVisible: |-
        =// Create local variables for mobile view property on this screen using UpdateContext
        UpdateContext({MobileGallery: false});
        UpdateContext({HamburgerIconChange: false});
        
        ClearCollect(
            colTickets,
            ForAll(
                Table(
                    ParseJSON(
                        SearchFilterTicketsSPList.Run(
                            If(
                                IsBlank(SearchQuery),
                                "___",
                                SearchQuery
                            ), StatusChoice, TagChoice
                        ).searchresults
                    )
                ),
                {
                    ID: Value(Value.ID),
                    Title: Text(Value.title),
                    Description: Text(Value.description),
                    MainCategory: Value(Value.mainCategory),
                    DateCreated: DateValue(Value.dateCreated),
                    CreatorId: Value(Value.creatorId),
                    Status: Text(Value.status),
                    AssignedToDelete: Value(Value.assignedToDelete),
                    LastUpdated: DateValue(Value.lastUpdated),
                    LocationId: Value(Value.locationId),
                    Tags: Text(Value.tags),
                    AddAssignees: Text(Value.addAssignees)
                }
            )
        )

    MyTicketsMainContainer As groupContainer.horizontalAutoLayoutContainer:
        Height: =Parent.Height
        LayoutMode: =LayoutMode.Auto
        Width: =Parent.Width
        ZIndex: =2

        MyTicketsMobileNavLinks As groupContainer.horizontalAutoLayoutContainer:
            FillPortions: =0
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            Visible: |-
                =//MobileGallery
                //This is a side panel that is visible when the user selects the hamburger menu
                false
            Width: =100
            ZIndex: =1

            MyTicketsNavButtonGallery As gallery.galleryVertical:
                AlignInContainer: =AlignInContainer.Center
                FillPortions: =0
                Height: =Parent.Height
                Items: =navCol
                Layout: =Layout.Vertical
                LayoutMinHeight: =287
                LayoutMinWidth: =320
                OnSelect: =Switch(ThisItem.NavScreen, "Create A Ticket", Navigate('Create A Ticket'), "MyTickets", Navigate(MyTickets), "Log of All Tickets - Admin Tech", Navigate('Log of All Tickets - Admin Tech'), "Metrics - Admin Tech", Navigate('Metrics - Admin Tech'), "Assign Role - Admin", Navigate('Assign Role - Admin'))
                ShowScrollbar: =false
                TemplateSize: =Parent.Width
                Width: =Parent.Width
                ZIndex: =1

                MobileNavGalleryNameLabel_1 As label:
                    Align: =Align.Center
                    FontWeight: =FontWeight.Semibold
                    Height: =74
                    OnSelect: =Select(Parent)
                    Size: =15
                    Text: =ThisItem.NavName
                    Width: =Parent.TemplateWidth
                    Y: =(Parent.TemplateHeight-Self.Height)/2
                    ZIndex: =1

                MobileNavButton_2 As button:
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =Parent.TemplateHeight
                    HoverFill: =ColorFade(RGBA(105,105,105, .25), -20%)
                    OnSelect: =Select(Parent)
                    PressedColor: =RGBA(105,105,105,.35)
                    PressedFill: =RGBA(105,105,105,.35)
                    Text: =""
                    Width: =Parent.TemplateWidth
                    ZIndex: =2

        MyTicketsLayoutContainer As groupContainer.verticalAutoLayoutContainer:
            Height: =Parent.Height
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            Width: =Parent.Width
            ZIndex: =2

            MyTicketsHeaderContainer1 As groupContainer.horizontalAutoLayoutContainer:
                Fill: =RGBA(255,255,255,1)
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutJustifyContent: =LayoutJustifyContent.Center
                LayoutMinHeight: |-
                    =//MyTickets.Height / 8
                    82
                LayoutMinWidth: =Parent.Width
                LayoutMode: =LayoutMode.Auto
                Visible: |-
                    =//MyTickets.Size <> 1
                    true
                ZIndex: =1

                NotificationsDropdownContainer_1 As groupContainer.manualLayoutContainer:
                    FillPortions: =0
                    Height: =Parent.Height
                    LayoutMinHeight: =Parent.Height
                    LayoutMinWidth: =Parent.Width
                    Visible: =false
                    Width: =75
                    ZIndex: =1

                    "'profile pic + drop down_8' As icon.Person":
                        AutoDisableOnSelect: =false
                        BorderColor: =RGBA(0, 0, 0, 1)
                        Color: =RGBA(0, 0, 0, 1)
                        Height: =Parent.Height / 4 * 3
                        Icon: =Icon.Person
                        Width: =Parent.Height / 4 * 3
                        X: =(Parent.Width - Self.Width) / 2
                        Y: =(Parent.Height - Self.Height) / 2
                        ZIndex: =1

                    "'new notification in dropdown_8' As circle":
                        BorderColor: =RGBA(168, 0, 0, 1)
                        Fill: =RGBA(168, 0, 0, 1)
                        Height: ='profile pic + drop down_8'.Width / 5
                        Width: ='profile pic + drop down_8'.Width / 5
                        X: =(Parent.Width - Self.Width) / 2 - Self.Width
                        Y: =(('profile pic + drop down_8'.Height - Self.Height) / 2) - (Self.Height * 0.75)
                        ZIndex: =2

                    UserNotificationsDropdownSymbolIcon_1 As icon.ChevronDown:
                        Color: =RGBA(255, 255, 255, 1)
                        Height: ='profile pic + drop down_8'.Height / 4
                        HoverBorderColor: =ColorFade(Color.DimGrey, 20%)
                        HoverFill: =Color.DimGrey
                        Icon: =Icon.ChevronDown
                        OnSelect: |-
                            =UpdateContext({NDrop:!NDrop})
                        Width: ='profile pic + drop down_8'.Width / 4
                        X: =(Parent.Width - Self.Width) / 2 + (Self.Width * 1.5)
                        Y: ='profile pic + drop down_8'.Y + 'profile pic + drop down_8'.Height - (Self.Height)
                        ZIndex: =3

                MyTicketsNavContainer As groupContainer.horizontalAutoLayoutContainer:
                    FillPortions: =7
                    LayoutAlignItems: =LayoutAlignItems.Center
                    LayoutJustifyContent: =LayoutJustifyContent.Center
                    LayoutMinHeight: =Parent.Height
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    Visible: =false
                    ZIndex: =2

                    MyTicketsNavLinkGallery As gallery.galleryHorizontal:
                        AlignInContainer: =AlignInContainer.Center
                        DelayItemLoading: =true
                        Height: =Parent.Height
                        Items: =navCol
                        LayoutMinHeight: =Parent.Height
                        LayoutMinWidth: =320
                        LoadingSpinner: =LoadingSpinner.Data
                        OnSelect: =Switch(ThisItem.NavScreen, "Create A Ticket", Navigate('Create A Ticket'), "MyTickets", Navigate(MyTickets), "Log of All Tickets - Admin Tech", Navigate('Log of All Tickets - Admin Tech'), "Metrics - Admin Tech", Navigate('Metrics - Admin Tech'), "Assign Role - Admin", Navigate('Assign Role - Admin'))
                        ShowScrollbar: =false
                        TemplateSize: =Parent.Width/5
                        Width: =Parent.Width
                        ZIndex: =6

                        MyTicketsNavLinkGalleryLabel As label:
                            Align: =Align.Center
                            DisplayMode: =DisplayMode.View
                            FontWeight: =FontWeight.Semibold
                            Height: =Parent.TemplateHeight
                            OnSelect: =Select(Parent)
                            Size: =15
                            Text: =ThisItem.NavName
                            Width: =Parent.TemplateWidth
                            ZIndex: =1

                        MyTicketsNavLinkGalleryButton As button:
                            Fill: =RGBA(0, 0, 0, 0)
                            Height: =Parent.TemplateHeight
                            HoverFill: =ColorFade(RGBA(105,105,105,.5), -20%)
                            OnSelect: =Select(Parent)
                            PressedFill: =ColorFade(RGBA(105,105,105,.7),-50%)
                            Text: =""
                            Width: =Parent.TemplateWidth
                            ZIndex: =2

                compWebHeader_6 As compWebHeader:
                    AlignInContainer: =AlignInContainer.Center
                    CompScreenSize: =MyTickets.Size
                    Height: =Parent.Height
                    LayoutMinHeight: =640
                    LayoutMinWidth: =640
                    ZIndex: =3

            MyTicketsMoblieHeaderContainer As groupContainer.verticalAutoLayoutContainer:
                Fill: =RGBA(118, 173, 149, 1)
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutMinHeight: =Parent.Height / 8
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =50
                Visible: |-
                    =//MyTickets.Size=1
                    //This container is visible when the screen is in mobile view and the topmost is invisible
                    false
                ZIndex: =2

                MoblieHamburgerMenu_1 As icon.Hamburger:
                    Color: =RGBA(0, 0, 0, 1)
                    Icon: =If(HamburgerIconChange, Icon.ChevronLeft, Icon.Hamburger)
                    OnSelect: |-
                        =UpdateContext({HamburgerIconChange:!HamburgerIconChange});
                        UpdateContext({MobileGallery:!MobileGallery});
                    ZIndex: =1

            MyTicketsHeaderContainer2 As groupContainer.horizontalAutoLayoutContainer:
                Fill: =ColorScheme.primary
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutGap: =10
                LayoutJustifyContent: =LayoutJustifyContent.Center
                LayoutMinHeight: =Parent.Height / 8 
                LayoutMinWidth: =Parent.Width
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =If (MyTickets.Size <> 1, 40, 15)
                PaddingRight: =If (MyTickets.Size <> 1, 40, 15)
                ZIndex: =3

                "'Back Scroll_5' As icon.BackArrow":
                    Color: =RGBA(232, 244, 217, 1)
                    Height: =Parent.Height / 5 * 4
                    Icon: =Icon.BackArrow
                    OnSelect: =Back(ScreenTransition.Fade)
                    Width: =Parent.Height / 5 * 4
                    X: =59
                    Y: =72
                    ZIndex: =1

                HeaderLabel As label:
                    Align: =Align.Center
                    Color: =RGBA(255, 255, 255, 1)
                    FillPortions: =1
                    Height: =Parent.Height
                    LayoutMinHeight: =Parent.Height
                    Size: =If (MyTickets.Size <> 1, 32, 24)
                    Text: =compFilterMenu_1.TicketsChoice
                    Width: =Parent.Width
                    Y: =15
                    ZIndex: =2

                NewTicketButton As button:
                    AutoDisableOnSelect: =false
                    Color: =RGBA(0, 0, 0, 1)
                    Fill: =RGBA(232, 244, 217, 1)
                    OnSelect: =Navigate('Create A Ticket', ScreenTransition.Fade);
                    PressedBorderColor: =RGBA(0, 0, 0, 0)
                    PressedColor: =
                    PressedFill: =RGBA(0, 0, 0, 0)
                    Text: ="New Ticket"
                    Visible: =MyTickets.Size > 2
                    X: =1150
                    Y: =84
                    ZIndex: =3

                NewTicketIcon As icon.Add:
                    Color: =RGBA(232, 244, 217, 1)
                    Height: =Parent.Height / 5 * 4
                    Icon: =Icon.Add
                    OnSelect: =Navigate('Create A Ticket', ScreenTransition.Fade);
                    Visible: =MyTickets.Size < 3
                    Width: =Parent.Height / 5 * 4
                    ZIndex: =4

            MyTicketsMainContentContainer As groupContainer.verticalAutoLayoutContainer:
                FillPortions: =10
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =Parent.Height / 8 * 6
                LayoutMinWidth: =Parent.Width
                LayoutMode: =LayoutMode.Auto
                ZIndex: =4

                SearchFilterContainer As groupContainer.manualLayoutContainer:
                    Fill: =ColorScheme.primary
                    FillPortions: =0
                    Height: =60
                    LayoutMinHeight: =60
                    LayoutMinWidth: =Parent.Width
                    Width: =Parent.Width
                    ZIndex: =1

                    compSearch_1 As compSearch:
                        X: =(Parent.Width - Self.Width) / 2
                        Y: =(Parent.Height - Self.Height) / 2

                MyTicketsTicketsContainer As groupContainer.verticalAutoLayoutContainer:
                    FillPortions: =8
                    LayoutAlignItems: =LayoutAlignItems.Stretch
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =//Parent.Height / 5 * 4
                    LayoutMinWidth: =Parent.Width
                    LayoutMode: =LayoutMode.Auto
                    ZIndex: =2

                    MyTicketsGallery As gallery.galleryVertical:
                        Default: =First(MyTicketsGallery.AllItems)
                        Height: =544
                        Items: |-
                            =//If(compFilterMenu_1.TicketsChoice="My Tickets",Filter(Filter(If(compFilterMenu_1.StatusChoice="All",Filter(Tickets_1,creatorId=userData.id),Filter(Filter(Tickets_1,creatorId=userData.id),status=compFilterMenu_1.StatusChoice)),If(!IsBlank(searchTicketQuery),Or(searchTicketQuery in id,searchTicketQuery in title,searchTicketQuery in description), true )),If(!IsBlank(compFilterMenu_1.TagChoice),compFilterMenu_1.TagChoice in tags, true )),Filter(Filter(If(compFilterMenu_1.StatusChoice="All",Filter(Tickets_1,assignedTO=userData.id),Filter(Filter(Tickets_1,assignedTO=userData.id),status=compFilterMenu_1.StatusChoice)),If(!IsBlank(searchTicketQuery),Or(searchTicketQuery in id,searchTicketQuery in title,searchTicketQuery in description), true )),If(!IsBlank(compFilterMenu_1.TagChoice),compFilterMenu_1.TagChoice in tags, true )))
                            
                            // SQL Filter
                            //Filter(
                            //    If(
                            //        compFilterMenu_1.TicketsChoice = "My Tickets",
                            //        If(
                            //            compFilterMenu_1.StatusChoice = "All",
                            //            Filter(
                            //                Tickets_1,
                            //                creatorId = userData.id
                            //            ),
                            //            Filter(
                            //                Tickets_1,
                            //                creatorId = userData.id && status = compFilterMenu_1.StatusChoice
                            //            )
                            //        ),
                            //        If(
                            //            compFilterMenu_1.StatusChoice = "All",
                            //            Filter(
                            //                Tickets_1,
                            //                assignedTO = userData.id
                            //            ),
                            //           Filter(
                            //                Tickets_1,
                            //                assignedTO = userData.id && status = compFilterMenu_1.StatusChoice
                            //            )
                            //        )
                            //    ),
                            //    If(
                            //        !IsBlank(compFilterMenu_1.TagChoice),
                            //        compFilterMenu_1.TagChoice in tags,
                            //        true
                            //    ) && If(
                            //        !IsBlank(compSearch_1.SearchQuery),
                            //        Or(
                            //            compSearch_1.SearchQuery in id,
                            //            compSearch_1.SearchQuery in title,
                            //            compSearch_1.SearchQuery in description
                            //        ),
                            //        true
                            //    )
                            //)
                            
                            // Filter for Sharepoint List
                            colTickets
                            //Switch(compFilterMenu_1.TicketsChoice, "My Tickets", Filter(colTickets, CreatorId = userData.id), "My Assigned", Filter(colTickets, AssignedToDelete = userData.id))
                        Layout: =Layout.Vertical
                        LayoutMinHeight: =Parent.Height
                        LayoutMinWidth: =320
                        TemplatePadding: =10
                        TemplateSize: |-
                            =If(Self.Layout = Layout.Horizontal, Min(250, Self.Width - 60), Min(250, Self.Height - 60))
                            //If(Self.Layout = Layout.Horizontal, Min(280, Self.Width - 60), Min(260, Self.Height - 60))
                        Transition: =Transition.Push
                        Visible: =!IsEmpty(MyTicketsGallery.AllItems)
                        Width: =1366
                        WrapCount: =RoundDown((Parent.Width / Self.LayoutMinWidth), 0)
                        Y: =224
                        ZIndex: =1

                        Image6 As image:
                            Height: =250
                            Image: |-
                                ="data:image/svg+xml," & EncodeUrl(
                                    "<?xml version='1.0' encoding='UTF-8' standalone='no'?>
                                <!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'>
                                <svg version='1.1'
                                    xmlns='http://www.w3.org/2000/svg'
                                    xmlns:xlink='http://www.w3.org/1999/xlink' preserveAspectRatio='xMidYMid meet' viewBox='0 0 " & Self.Width & " " & Self.Height & "' width='" & Self.Width & "' height='" & Self.Height & "'>
                                    <defs>" &
                                    // ----- Box for fill
                                 "<path d='" &
                                 // Upper left
                                 "M" & Max(5 * 3 - 0, 0) & " " & Max(5 * 3 - 0,0) &
                                    // Upper right
                                 "L" & Self.Width - Max(5 * 3 + 0, 0) & " " & Max(5 * 3 - 0, 0) &
                                    // Lower right
                                 "L" & Self.Width - Max(5 * 3 + 0, 0) & " " & Self.Height - Max(5 * 3 + 0, 0) &
                                    // Lower left
                                 "L" & Max(5 * 3 - 0, 0) & " " & Self.Height - Max(5 * 3 + 0, 0) & 
                                 "Z' id='box' stroke='" & "#ff0000" & "' stroke-width='" & 0 & "'></path>
                                    </defs>
                                    <g>
                                        <g>
                                            <filter id='shadow' x='-20%' y='-20%' width='200%' height='200%' filterUnits='userSpaceOnUse' primitiveUnits='userSpaceOnUse'>
                                                <feFlood></feFlood>
                                                <feComposite in2='SourceAlpha' operator='in'></feComposite>
                                                <feGaussianBlur stdDeviation='" & 5 & "'></feGaussianBlur>
                                                <feOffset dx='" & 0 & "' dy='" & 0 & "' result='afterOffset'></feOffset>
                                                <feFlood flood-color='" & "#000000" & "' flood-opacity='" & Substitute(Text(0.5), ",", ".") & "'></feFlood>
                                                <feComposite in2='afterOffset' operator='in'></feComposite>
                                                <feMorphology operator='dilate' radius='1'></feMorphology>
                                                <feComposite in2='SourceAlpha' operator='out'></feComposite>
                                            </filter>" &
                                            // ----- Box for shadow
                                 "<path d='" &
                                 // Upper left
                                 "M" & Max(5 * 3 - 0, 0) & " " & Max(5 * 3 - 0, 0) &
                                    // Upper right
                                 "L" & Self.Width - Max(5 * 3 + 0, 0) & " " & Max(5 * 3 - 0, 0) &
                                    // Lower right
                                 "L" & Self.Width - Max(5 * 3 + 0, 0) & " " & Self.Height - Max(5 * 3 + 0, 0) &
                                    // Lower left
                                 "L" & Max(5 * 3 - 0, 0) & " " & Self.Height - Max(5 * 3 + 0, 0) & 
                                 "Z' id='Component1' filter='url(#shadow)'></path>
                                        </g>
                                        <use xlink:href='#box' opacity='1' fill='" & "#ffffff" & "' fill-opacity='" & Substitute(Text(0), ",", ".") & "'></use>
                                    </g>
                                    <g>
                                        " &
                                        // ----- Edge
                                 If(
                                        true,
                                        Switch(
                                            "left",
                                            "left",// -- Position: left
                                            "<path d='" &
                                        // Upper left
                                 "M" & Max(5 * 3 - 0, 0) + 0 & " " & Max(5 * 3 - 0, 0) + 0 &
                                        // Upper right
                                 "L" & Max(5 * 3 - 0, 0) + 0 + 8 & " " & Max(5 * 3 - 0, 0) + 0 &
                                        // Lower right
                                 "L" & Max(5 * 3 - 0, 0) + 0 + 8 & " " & Self.Height - Max(5 * 3 + 0, 0) - 0 &
                                        // Lower left
                                 "L" & Max(5 * 3 - 0, 0) + 0 & " " & Self.Height - Max(5 * 3 + 0, 0) - 0 & 
                                 "Z' id='box' stroke-width='0' fill='" & "#ffffff" & "'></path>",
                                             "right",// -- Position: right
                                            "<path d='" &
                                        // Upper left
                                 "M" & Self.Width - Max(5 * 3 + 0, 0) - 0 - 8 & " " & Max(5 * 3 - 0, 0) + 0 &
                                        // Upper right
                                 "L" & Self.Width - Max(5 * 3 + 0, 0) - 0 & " " & Max(5 * 3 - 0, 0) + 0 &
                                        // Lower right
                                 "L" & Self.Width - Max(5 * 3 + 0, 0) - 0 & " " & Self.Height - Max(5 * 3 + 0, 0) - 0 &
                                        // Lower left
                                 "L" & Self.Width - Max(5 * 3 + 0, 0) - 0 - 8 & " " & Self.Height - Max(5 * 3 + 0, 0) - 0 & 
                                 "Z' id='box' stroke-width='0' fill='" & "#ffffff" & "'></path>"
                                           
                                        )
                                    ) & "
                                    </g>
                                </svg>"
                                )
                            OnSelect: =Select(Parent)
                            Width: =329
                            ZIndex: =1

                        btnBkg As button:
                            Fill: =RGBA(255, 255, 255, 1)
                            Height: =Parent.TemplateHeight
                            HoverFill: =Self.Fill
                            OnSelect: =Select(Parent)
                            PressedFill: =Self.Fill
                            RadiusBottomLeft: =0
                            RadiusBottomRight: =0
                            RadiusTopLeft: =0
                            RadiusTopRight: =0
                            Text: =""
                            Visible: =false
                            Width: =Parent.TemplateWidth
                            ZIndex: =2

                        TitleLabel As label:
                            FontWeight: =FontWeight.Semibold
                            Height: =54
                            OnSelect: =Select(Parent)
                            Size: =12
                            Text: =ThisItem.Title
                            Width: =208
                            X: =24
                            Y: =27
                            ZIndex: =3

                        DescriptionLabel As label:
                            Height: =37
                            OnSelect: =Select(Parent)
                            Size: =10
                            Text: =ThisItem.Description
                            Width: =282
                            Wrap: =false
                            X: =24
                            Y: =TitleLabel.Y + TitleLabel.Height
                            ZIndex: =4

                        IdLabel As label:
                            Align: =Align.Center
                            Color: =Color.Black
                            Fill: =RGBA(241, 244, 249, 1)
                            Height: =34
                            OnSelect: =Select(Parent)
                            Text: =ThisItem.ID
                            Width: =74
                            X: =232
                            Y: =27
                            ZIndex: =5

                        DateCreatedLabel As label:
                            Height: =25
                            OnSelect: =Select(Parent)
                            Size: =10
                            Text: =DateValue(ThisItem.DateCreated)
                            Width: =75
                            X: =231
                            Y: =147
                            ZIndex: =6

                        btnTemplate As button:
                            BorderThickness: =0
                            Fill: =Color.Transparent
                            Height: =220
                            HoverFill: =Self.Fill
                            OnSelect: |-
                                =// SQL 
                                //Navigate('Single Ticket Info', ScreenTransition.Fade, {title:ThisItem.title, dateCreated:DateValue(ThisItem.dateCreated), status:ThisItem.status, category:ThisItem.mainCategory, reporting_person:ThisItem.creatorId, assigned_person:If(IsBlank(ThisItem.assignedTO), "Unassigned", LookUp(Users, id = ThisItem.assignedTO, fullName)), description:ThisItem.description, ticket:ThisItem.id, creatorId: ThisItem.creatorId, assigneeId: ThisItem.assignedTO, tags: ThisItem.tags, addAssignees: ThisItem.addAssignees})
                                
                                // Sharepoint List
                                Navigate('Single Ticket Info', ScreenTransition.Fade, {title:ThisItem.Title, dateCreated:DateValue(ThisItem.DateCreated), status:ThisItem.Status, category:ThisItem.MainCategory, reporting_person:ThisItem.CreatorId, assigned_person:If(IsBlank(ThisItem.AssignedToDelete), "Unassigned", LookUp(Users, id = ThisItem.AssignedToDelete, fullName)), description:ThisItem.Description, ticket:ThisItem.ID, creatorId: ThisItem.CreatorId, assigneeId: ThisItem.AssignedToDelete, tags: ThisItem.Tags, addAssignees: ThisItem.AddAssignees})
                            PressedFill: =Self.Fill
                            Text: =""
                            Width: =303
                            X: =24
                            Y: =15
                            ZIndex: =13

                        "'Assignee Group' As group":
                            Height: =5
                            Width: =5
                            X: =40
                            Y: =40
                            ZIndex: =13

                            Image7_3 As image:
                                Height: =Parent.TemplateHeight / 6
                                Image: |-
                                    =// Get assignee's profile pic if they have one
                                    
                                    // SQL
                                    //If(!IsBlank(LookUp(Users, id = ThisItem.assignedTO, email)) && Office365Users.UserPhotoMetadata(LookUp(Users, id = ThisItem.assignedTO, email)).HasPhoto, Office365Users.UserPhotoV2(LookUp(Users, id = ThisItem.assignedTO, email)), 'blank-profile-pic')
                                    
                                    // Sharepoint
                                    If(!IsBlank(LookUp(Users, id = ThisItem.AssignedToDelete, email)) && Office365Users.UserPhotoMetadata(LookUp(Users, id = ThisItem.AssignedToDelete, email)).HasPhoto, Office365Users.UserPhotoV2(LookUp(Users, id = ThisItem.AssignedToDelete, email)), 'blank-profile-pic')
                                ImagePosition: =ImagePosition.Fill
                                RadiusBottomLeft: =256
                                RadiusBottomRight: =256
                                RadiusTopLeft: =256
                                RadiusTopRight: =256
                                Visible: =is_admin
                                Width: =Parent.TemplateHeight / 6
                                X: =24
                                Y: =180
                                ZIndex: =7

                            AssigneeLabel As label:
                                Height: =Parent.TemplateHeight / 6
                                OnSelect: =Select(Parent)
                                Text: |-
                                    =// SQL
                                    //If(IsBlank(ThisItem.assignedTO), "Unassigned", LookUp(Users, id = ThisItem.assignedTO, fullName))
                                    
                                    // Sharepoint
                                    If(IsBlank(ThisItem.AssignedToDelete), "Unassigned", LookUp(Users, id = ThisItem.AssignedToDelete, fullName))
                                Visible: =is_admin
                                Width: =154
                                X: =67
                                Y: =180
                                ZIndex: =8

                        "'Status Group' As group":
                            Height: =5
                            Width: =5
                            X: =40
                            Y: =40
                            ZIndex: =13

                            StatusColor As rectangle:
                                DisplayMode: =DisplayMode.View
                                Fill: |-
                                    =Switch(
                                        ThisItem.Status,
                                        "open", RGBA(0, 127, 187, 1),
                                        "close", RGBA(127, 178, 57, 1),
                                        RGBA(221, 79, 14, 1)
                                    )
                                Height: =41
                                OnSelect: =Select(Parent)
                                Width: =9
                                X: =232
                                Y: =180
                                ZIndex: =9

                            StatusLabel As label:
                                Align: =Align.Center
                                Color: |-
                                    =Switch(
                                        ThisItem.Status,
                                        "open", RGBA(0, 127, 187, 1),
                                        "close", RGBA(127, 178, 57, 1),
                                        RGBA(221, 79, 14, 1)
                                    )
                                DisplayMode: =DisplayMode.View
                                Fill: =RGBA(241, 244, 249, 1)
                                FontWeight: =FontWeight.Semibold
                                Height: =41
                                OnSelect: =Select(Parent)
                                Text: |-
                                    =// SQL
                                    //ThisItem.status
                                    
                                    // Sharepoint
                                    ThisItem.Status
                                Width: =65
                                X: =241
                                Y: =180
                                ZIndex: =10

                        "'Category Group' As group":
                            Height: =5
                            Width: =5
                            X: =40
                            Y: =40
                            ZIndex: =14

                            CategoryLabelText As label:
                                Height: =25
                                OnSelect: =Select(Parent)
                                Size: =10
                                Text: ="Category"
                                Width: =67
                                X: =24
                                Y: =If(is_admin, 147, (StatusLabel.Y + StatusLabel.Height - Self.Height))
                                ZIndex: =11

                            CategoryLabelText_1 As label:
                                Height: =25
                                OnSelect: =Select(Parent)
                                Size: =10
                                Text: |-
                                    =// SQL
                                    //LookUp(Category, id = ThisItem.mainCategory, name)
                                    
                                    // Sharepoint
                                    LookUp(Category, id = ThisItem.MainCategory, name)
                                Width: =143
                                X: =89
                                Y: =If(is_admin, 147, (StatusLabel.Y + StatusLabel.Height - Self.Height))
                                ZIndex: =12

                    EmptyState As groupContainer.verticalAutoLayoutContainer:
                        Height: =544
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutGap: =10
                        LayoutJustifyContent: =LayoutJustifyContent.Center
                        LayoutMinHeight: =Parent.Height
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        Visible: =IsEmpty(MyTicketsGallery.AllItems)
                        Width: =1366
                        Y: =224
                        ZIndex: =3

                        Label16 As label:
                            Align: =Align.Center
                            AlignInContainer: =AlignInContainer.Stretch
                            Size: =32
                            Text: ="No Tickets Found"
                            ZIndex: =1

                        Button4_1 As button:
                            Fill: =RGBA(118, 173, 149, 1)
                            OnSelect: =Navigate('Create A Ticket', ScreenTransition.Fade);
                            Text: ="New Ticket"
                            Visible: |-
                                =//Button should only appears when user is not viewing their assigned tickets
                                IsEmpty(MyTicketsGallery.AllItems) && compFilterMenu_1.TicketsChoice = "My Tickets" && (StatusChoice = "All" || StatusChoice = "open")
                            X: =1150
                            Y: =99
                            ZIndex: =2

                MyTicketsMobileComp As groupContainer.verticalAutoLayoutContainer:
                    FillPortions: =0
                    Height: =90
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    Visible: =MyTickets.Size=1
                    ZIndex: =3

                    compMobileMenu_5 As compMobileMenu:
                        LayoutMinHeight: =640
                        LayoutMinWidth: =640
                        Width: =Parent.Width

    compFilterMenu_1 As compFilterMenu:
        Height: =If(compFilterMenu_1.FilterVisible, compFilterMenu_1.NewHeight, compFilterMenu_1.FilterIconSize)
        NewHeight: |-
            =If(
                compFilterMenu_1.CheckAdmin && App.ActiveScreen.Name = "MyTickets",
                If(
                    App.Height > 560,
                    400,
                    320
                ),
                !compFilterMenu_1.CheckAdmin && App.ActiveScreen.Name = "MyTickets",
                150,
                If(
                    App.Height > 560,
                    420,
                    320
                )
            )
        Visible: =App.Width > 600 || (App.Width <= 600 && !compSearch_1.SearchVisible)
        Width: =If(compFilterMenu_1.FilterVisible, If(App.Height > 560, 230, 190), compFilterMenu_1.FilterIconSize)
        X: =Parent.Width - Self.Width - If(App.Width > 500, 30, 10)
        Y: =MyTicketsHeaderContainer1.Height + MyTicketsHeaderContainer2.Height + ((SearchFilterContainer.Height - compFilterMenu_1.FilterIconSize) / 2)
        ZIndex: =3

    compWebMenu_3 As compWebMenu:
        ZIndex: =4

    SearchBlocker As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =8

        SearchBlockerTop As rectangle:
            Fill: |-
                =//Color.Transparent
                RGBA(0, 0, 0, 0.25)
            Height: =MyTicketsHeaderContainer1.Height + MyTicketsHeaderContainer2.Height
            OnSelect: =Set(varSearchVisible, false)
            Visible: =App.Width <= 600 && compSearch_1.SearchVisible
            Width: =Parent.Width
            ZIndex: =5

        SearchBlockerBottom As rectangle:
            Fill: |-
                =//Color.Transparent
                RGBA(0, 0, 0, 0.25)
            Height: =Parent.Height - (MyTicketsHeaderContainer1.Height + MyTicketsHeaderContainer2.Height + SearchFilterContainer.Height)
            OnSelect: =Set(varSearchVisible, false)
            Visible: =App.Width <= 600 && compSearch_1.SearchVisible
            Width: =Parent.Width
            Y: =MyTicketsHeaderContainer1.Height + MyTicketsHeaderContainer2.Height + SearchFilterContainer.Height
            ZIndex: =6

